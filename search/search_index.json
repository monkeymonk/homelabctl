{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"homelabctl","text":"<ul> <li> <p> Simple &amp; Powerful</p> <p>No complex orchestration platforms. Just Docker Compose with declarative configuration.</p> </li> <li> <p> Secure by Default</p> <p>Built-in SOPS encryption for secrets. Keep sensitive data safe.</p> </li> <li> <p> Reproducible</p> <p>Version control your entire homelab. Same input = same output, always.</p> </li> <li> <p> Flexible Templates</p> <p>Powerful templating with gomplate. Customize everything.</p> </li> </ul>"},{"location":"#what-is-homelabctl","title":"What is homelabctl?","text":"<p>homelabctl is a CLI tool for managing Docker stacks in your homelab using declarative, template-based configuration.</p> <p>Think of it as a compiler for your homelab: it transforms static stack definitions into runtime Docker Compose configurations.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>\u2705 Declarative Configuration - Infrastructure as code for your homelab</li> <li>\u2705 Template-Based - Powered by gomplate for flexible templates</li> <li>\u2705 Dependency Management - Automatic validation of stack dependencies</li> <li>\u2705 Secrets Support - Automatic SOPS decryption for encrypted secrets</li> <li>\u2705 Category System - Organize stacks with automatic deployment ordering</li> <li>\u2705 Service-Level Control - Disable individual services without disabling stacks</li> <li>\u2705 Docker Compose Passthrough - Full access to all docker compose commands</li> <li>\u2705 Fail-Fast - Clear errors with actionable suggestions</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code># Initialize your homelab\nmkdir ~/homelab &amp;&amp; cd ~/homelab\nhomelabctl init\n\n# Configure your domain\necho \"domain: homelab.local\" &gt; inventory/vars.yaml\n\n# Enable and deploy a stack\nhomelabctl enable traefik\nhomelabctl deploy\n\n# Check status\nhomelabctl ps\n</code></pre> <p>That's it! Your first service is running.</p>"},{"location":"#architecture-overview","title":"Architecture Overview","text":"<pre><code>graph LR\n    A[Stack Definitions] --&gt; B[homelabctl generate]\n    C[Inventory Vars] --&gt; B\n    D[Secrets] --&gt; B\n    B --&gt; E[docker-compose.yml]\n    E --&gt; F[docker compose up]\n</code></pre> <p>homelabctl acts as a compiler:</p> <ol> <li>Input: Stack definitions + inventory + secrets</li> <li>Process: Template rendering + variable merging + validation</li> <li>Output: Single <code>docker-compose.yml</code> file</li> <li>Deploy: Standard Docker Compose commands</li> </ol>"},{"location":"#why-homelabctl","title":"Why homelabctl?","text":""},{"location":"#for-homelabbers","title":"For Homelabbers","text":"<ul> <li>\ud83c\udfe0 Perfect for single-node home servers</li> <li>\ud83d\udce6 Simpler than Kubernetes, more powerful than plain Docker Compose</li> <li>\ud83d\udd04 Reproducible infrastructure - backup your config, restore anywhere</li> <li>\ud83c\udfaf Declarative - define what you want, not how to get there</li> </ul>"},{"location":"#for-developers","title":"For Developers","text":"<ul> <li>\ud83e\uddea Test entire stacks locally before deployment</li> <li>\ud83d\udcdd Version control everything</li> <li>\ud83d\udd10 Secrets management built-in</li> <li>\ud83d\udee0\ufe0f Extensible architecture</li> </ul>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li> <p> Installation</p> <p>Install homelabctl on your system</p> </li> <li> <p> Quick Start</p> <p>Get up and running in 5 minutes</p> </li> <li> <p> User Guide</p> <p>Learn all the features and commands</p> </li> <li> <p> Contributing</p> <p>Help improve homelabctl</p> </li> </ul>"},{"location":"#community","title":"Community","text":"<ul> <li>GitHub Discussions - Ask questions and share ideas</li> <li>GitHub Issues - Report bugs or request features</li> <li>Contributing Guide - Help improve the project</li> </ul> <p>Star the project</p> <p>If you find homelabctl useful, consider \u2b50 starring it on GitHub!</p>"},{"location":"SETUP/","title":"GitHub Pages Setup Instructions","text":""},{"location":"SETUP/#enabling-github-pages","title":"Enabling GitHub Pages","text":"<ol> <li>Push the documentation to GitHub:</li> </ol> <pre><code>git add docs/ mkdocs.yml requirements.txt .github/workflows/docs.yml\ngit commit -m \"docs: add GitHub Pages documentation site\"\ngit push origin main\n</code></pre> <ol> <li> <p>Enable GitHub Pages in repository settings:</p> </li> <li> <p>Go to your repository on GitHub</p> </li> <li>Navigate to Settings \u2192 Pages</li> <li>Under Source, select Deploy from a branch</li> <li>Select branch: gh-pages</li> <li> <p>Click Save</p> </li> <li> <p>Wait for deployment:</p> </li> <li> <p>The GitHub Action will automatically build and deploy</p> </li> <li>Check the Actions tab to monitor progress</li> <li>Site will be available at: <code>https://monkeymonk.github.io/homelabctl/</code></li> </ol>"},{"location":"SETUP/#local-development","title":"Local Development","text":""},{"location":"SETUP/#first-time-setup","title":"First Time Setup","text":"<pre><code># Install dependencies\npip install -r requirements.txt\n</code></pre>"},{"location":"SETUP/#serve-locally","title":"Serve Locally","text":"<pre><code># Start development server\nmkdocs serve\n\n# Visit http://localhost:8000\n</code></pre>"},{"location":"SETUP/#build-static-site","title":"Build Static Site","text":"<pre><code># Build to site/ directory\nmkdocs build\n\n# Preview the built site\ncd site &amp;&amp; python -m http.server 8000\n</code></pre>"},{"location":"SETUP/#adding-new-pages","title":"Adding New Pages","text":"<ol> <li>Create markdown file in <code>docs/</code></li> <li>Add to navigation in <code>mkdocs.yml</code></li> <li>Commit and push (auto-deploys)</li> </ol>"},{"location":"SETUP/#customization","title":"Customization","text":"<p>Edit <code>mkdocs.yml</code> to customize:</p> <ul> <li>Site name and description</li> <li>Theme colors</li> <li>Navigation structure</li> <li>Plugins and extensions</li> </ul>"},{"location":"SETUP/#troubleshooting","title":"Troubleshooting","text":""},{"location":"SETUP/#build-fails","title":"Build Fails","text":"<p>Check the GitHub Actions logs for errors. Common issues:</p> <ul> <li>Missing dependencies in <code>requirements.txt</code></li> <li>Invalid markdown syntax</li> <li>Broken internal links</li> </ul>"},{"location":"SETUP/#site-not-updating","title":"Site Not Updating","text":"<ul> <li>Ensure workflow ran successfully (check Actions tab)</li> <li>Clear browser cache</li> <li>Check that gh-pages branch exists</li> </ul>"},{"location":"SETUP/#resources","title":"Resources","text":"<ul> <li>MkDocs Documentation</li> <li>Material for MkDocs</li> <li>GitHub Pages Docs</li> </ul>"},{"location":"advanced/architecture/","title":"Architecture","text":"<p>Coming soon...</p>"},{"location":"advanced/extensions/","title":"Extension Points","text":"<p>Coming soon...</p>"},{"location":"advanced/pipeline/","title":"Pipeline Details","text":"<p>Coming soon...</p>"},{"location":"advanced/troubleshooting/","title":"Troubleshooting","text":"<p>Coming soon...</p>"},{"location":"contributing/code-style/","title":"Code Style","text":"<p>Coming soon...</p>"},{"location":"contributing/development/","title":"Development Setup","text":"<p>Coming soon...</p>"},{"location":"contributing/how-to-contribute/","title":"How to Contribute","text":"<p>Coming soon...</p>"},{"location":"getting-started/first-stack/","title":"Your First Stack","text":"<p>This guide walks you through creating a complete stack from scratch.</p>"},{"location":"getting-started/first-stack/#what-is-a-stack","title":"What is a Stack?","text":"<p>A stack is a collection of related Docker services defined using:</p> <ul> <li><code>stack.yaml</code> - Manifest with metadata and default variables</li> <li><code>compose.yml.tmpl</code> - Docker Compose template</li> <li><code>config/</code> (optional) - Configuration file templates</li> <li><code>contribute/</code> (optional) - Cross-stack contributions</li> </ul>"},{"location":"getting-started/first-stack/#example-traefik-reverse-proxy","title":"Example: Traefik Reverse Proxy","text":"<p>Let's create a Traefik stack as a real-world example.</p>"},{"location":"getting-started/first-stack/#1-create-stack-directory","title":"1. Create Stack Directory","text":"<pre><code>mkdir -p stacks/traefik\ncd stacks/traefik\n</code></pre>"},{"location":"getting-started/first-stack/#2-create-stackyaml","title":"2. Create stack.yaml","text":"stacks/traefik/stack.yaml<pre><code>name: traefik\ncategory: core\nrequires: []\n\nservices:\n  - traefik\n\nvars:\n  traefik:\n    image: traefik:v3.0\n    dashboard_enabled: true\n    acme_email: admin@example.com\n\npersistence:\n  volumes:\n    - traefik_acme\n</code></pre>"},{"location":"getting-started/first-stack/#3-create-composeymltmpl","title":"3. Create compose.yml.tmpl","text":"stacks/traefik/compose.yml.tmpl<pre><code>services:\n  traefik:\n    image: {{ .vars.traefik.image }}\n    container_name: traefik\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n      - \"8080:8080\"  # Dashboard\n    command:\n      - \"--api.dashboard={{ .vars.traefik.dashboard_enabled }}\"\n      - \"--providers.docker=true\"\n      - \"--providers.docker.exposedbydefault=false\"\n      - \"--entrypoints.web.address=:80\"\n      - \"--entrypoints.websecure.address=:443\"\n      - \"--certificatesresolvers.letsencrypt.acme.email={{ .vars.traefik.acme_email }}\"\n      - \"--certificatesresolvers.letsencrypt.acme.storage=/acme/acme.json\"\n      - \"--certificatesresolvers.letsencrypt.acme.httpchallenge.entrypoint=web\"\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock:ro\n      - traefik_acme:/acme\n    restart: unless-stopped\n    labels:\n      - \"traefik.enable=true\"\n\nvolumes:\n  traefik_acme:\n</code></pre>"},{"location":"getting-started/first-stack/#4-override-variables-in-inventory","title":"4. Override Variables in Inventory","text":"inventory/vars.yaml<pre><code>domain: myserver.home\ntraefik:\n  acme_email: me@myserver.home\n  dashboard_enabled: false  # Disable in production\n</code></pre>"},{"location":"getting-started/first-stack/#5-enable-and-deploy","title":"5. Enable and Deploy","text":"<pre><code>cd ~/homelab\nhomelabctl enable traefik\nhomelabctl validate\nhomelabctl deploy\n</code></pre>"},{"location":"getting-started/first-stack/#6-verify","title":"6. Verify","text":"<pre><code># Check status\nhomelabctl ps\n\n# View logs\nhomelabctl logs traefik\n\n# Access dashboard (if enabled)\ncurl http://localhost:8080/dashboard/\n</code></pre>"},{"location":"getting-started/first-stack/#stack-components-explained","title":"Stack Components Explained","text":""},{"location":"getting-started/first-stack/#stackyaml","title":"stack.yaml","text":"<pre><code>name: traefik              # Stack identifier\ncategory: core             # Deployment order\nrequires: []               # Dependencies\nservices:                  # List of services (must match compose)\n  - traefik\nvars:                      # Default variables\n  traefik:\n    image: traefik:v3.0\npersistence:               # Data that survives restarts\n  volumes:\n    - traefik_acme\n</code></pre>"},{"location":"getting-started/first-stack/#composeymltmpl","title":"compose.yml.tmpl","text":"<p>Standard Docker Compose with templating:</p> <pre><code>services:\n  service-name:\n    image: {{ .vars.service.image }}  # Variable reference\n    ports:\n      - \"{{ .vars.service.port }}:80\"\n</code></pre> <p>Template Context:</p> <ul> <li><code>.vars</code> - Merged variables (stack defaults &lt; inventory &lt; secrets)</li> <li><code>.stack.name</code> - Stack name</li> <li><code>.stack.category</code> - Stack category</li> <li><code>.stacks.enabled</code> - List of enabled stacks</li> </ul>"},{"location":"getting-started/first-stack/#best-practices","title":"Best Practices","text":"<p>Keep It Simple</p> <p>Start with minimal configuration. Add complexity only when needed.</p> <p>Use Sensible Defaults</p> <p>Put common values in <code>stack.yaml</code>, let users override in inventory.</p> <p>Document Your Vars</p> <p>Add comments in <code>stack.yaml</code> explaining what each variable does.</p> <p>Don't Hardcode Secrets</p> <p>Use the secrets system for sensitive data.</p>"},{"location":"getting-started/first-stack/#next-steps","title":"Next Steps","text":"<ul> <li>Variables &amp; Templating - Deep dive into templating</li> <li>Secrets Management - Handle sensitive data</li> <li>Categories - Organize your stacks</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<p>Before installing homelabctl, ensure you have:</p> <ul> <li>Go 1.21+ (for building from source)</li> <li>Docker with Compose plugin v2</li> <li>gomplate (template engine)</li> </ul>"},{"location":"getting-started/installation/#install-gomplate","title":"Install gomplate","text":"LinuxmacOSVerify <pre><code>curl -o /usr/local/bin/gomplate -sSL \\\n  https://github.com/hairyhenderson/gomplate/releases/download/v3.11.6/gomplate_linux-amd64\nchmod +x /usr/local/bin/gomplate\n</code></pre> <pre><code>brew install gomplate\n</code></pre> <pre><code>gomplate --version\n</code></pre>"},{"location":"getting-started/installation/#installation-methods","title":"Installation Methods","text":""},{"location":"getting-started/installation/#option-1-install-from-source-recommended","title":"Option 1: Install from Source (Recommended)","text":"<pre><code>go install github.com/monkeymonk/homelabctl@latest\n</code></pre> <p>The binary will be installed to <code>$GOPATH/bin/homelabctl</code> (usually <code>~/go/bin/homelabctl</code>).</p> <p>Add to PATH</p> <p>Make sure <code>$GOPATH/bin</code> is in your PATH: <pre><code>export PATH=$PATH:$(go env GOPATH)/bin\n</code></pre></p>"},{"location":"getting-started/installation/#option-2-build-from-source","title":"Option 2: Build from Source","text":"<pre><code># Clone repository\ngit clone https://github.com/monkeymonk/homelabctl.git\ncd homelabctl\n\n# Build\ngo build -o homelabctl\n\n# Install\nsudo mv homelabctl /usr/local/bin/\n</code></pre>"},{"location":"getting-started/installation/#option-3-download-pre-built-binary","title":"Option 3: Download Pre-built Binary","text":"<p>Download the latest release for your platform from GitHub Releases.</p> Linux AMD64macOS ARM64 <pre><code>curl -LO https://github.com/monkeymonk/homelabctl/releases/latest/download/homelabctl-linux-amd64.tar.gz\ntar xzf homelabctl-linux-amd64.tar.gz\nsudo mv homelabctl /usr/local/bin/\n</code></pre> <pre><code>curl -LO https://github.com/monkeymonk/homelabctl/releases/latest/download/homelabctl-darwin-arm64.tar.gz\ntar xzf homelabctl-darwin-arm64.tar.gz\nsudo mv homelabctl /usr/local/bin/\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code>homelabctl --help\n</code></pre> <p>You should see the help output with available commands.</p>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide - Get up and running in 5 minutes</li> <li>Your First Stack - Create your first stack</li> </ul>"},{"location":"getting-started/installation/#updating","title":"Updating","text":""},{"location":"getting-started/installation/#from-source","title":"From source","text":"<pre><code>go install github.com/monkeymonk/homelabctl@latest\n</code></pre>"},{"location":"getting-started/installation/#homebrew","title":"Homebrew","text":"<pre><code>brew upgrade homelabctl\n</code></pre>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":"<p>Command not found</p> <p>If you get \"command not found\", ensure the binary is in your PATH: <pre><code>which homelabctl\n# Should show the path to the binary\n</code></pre></p> <p>gomplate not found</p> <p>Install gomplate as shown in the prerequisites section.</p> <p>Docker compose not found</p> <p>Install Docker with Compose plugin: docs.docker.com/compose/install</p>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>Get homelabctl up and running in 5 minutes!</p>"},{"location":"getting-started/quickstart/#1-initialize-your-homelab","title":"1. Initialize Your Homelab","text":"<pre><code>mkdir ~/homelab &amp;&amp; cd ~/homelab\nhomelabctl init\n</code></pre> <p>This creates the required directory structure:</p> <pre><code>homelab/\n\u251c\u2500\u2500 stacks/       # Stack definitions (commit to git)\n\u251c\u2500\u2500 enabled/      # Symlinks to enabled stacks\n\u251c\u2500\u2500 inventory/    # Your configuration\n\u2502   \u2514\u2500\u2500 vars.yaml\n\u251c\u2500\u2500 secrets/      # Encrypted secrets\n\u2514\u2500\u2500 runtime/      # Generated files (gitignored)\n</code></pre>"},{"location":"getting-started/quickstart/#2-configure-your-domain","title":"2. Configure Your Domain","text":"<p>Edit <code>inventory/vars.yaml</code>:</p> <pre><code>domain: homelab.local\ntimezone: America/New_York\n</code></pre>"},{"location":"getting-started/quickstart/#3-create-your-first-stack","title":"3. Create Your First Stack","text":"<p>Create a simple nginx stack:</p> <pre><code>mkdir -p stacks/nginx\n</code></pre> <p>Create <code>stacks/nginx/stack.yaml</code>:</p> <pre><code>name: nginx\ncategory: tools\nrequires: []\nservices:\n  - nginx\nvars:\n  nginx:\n    image: nginx:alpine\n    port: 8080\n</code></pre> <p>Create <code>stacks/nginx/compose.yml.tmpl</code>:</p> <pre><code>services:\n  nginx:\n    image: {{ .vars.nginx.image }}\n    container_name: nginx\n    ports:\n      - \"{{ .vars.nginx.port }}:80\"\n    restart: unless-stopped\n</code></pre>"},{"location":"getting-started/quickstart/#4-enable-and-deploy","title":"4. Enable and Deploy","text":"<pre><code># Enable the stack\nhomelabctl enable nginx\n\n# Validate configuration\nhomelabctl validate\n\n# Generate and deploy\nhomelabctl deploy\n</code></pre>"},{"location":"getting-started/quickstart/#5-verify-its-running","title":"5. Verify It's Running","text":"<pre><code># Check service status\nhomelabctl ps\n\n# View logs\nhomelabctl logs nginx\n\n# Test the service\ncurl http://localhost:8080\n</code></pre>"},{"location":"getting-started/quickstart/#what-just-happened","title":"What Just Happened?","text":"<ol> <li>\u2705 Created a homelab repository structure</li> <li>\u2705 Configured global variables</li> <li>\u2705 Defined a stack with templates</li> <li>\u2705 Enabled and deployed the stack</li> <li>\u2705 Verified it's running</li> </ol>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Your First Stack - Deeper dive into stack creation</li> <li>Commands Reference - Learn all available commands</li> <li>Variables &amp; Templating - Advanced configuration</li> </ul>"},{"location":"getting-started/quickstart/#common-commands","title":"Common Commands","text":"<pre><code># List enabled stacks\nhomelabctl list\n\n# Disable a stack\nhomelabctl disable nginx\n\n# Regenerate after changes\nhomelabctl generate\n\n# Restart services\nhomelabctl restart nginx\n\n# Stop everything\nhomelabctl down\n</code></pre> <p>You're ready!</p> <p>You now have a working homelabctl setup. Explore the User Guide to learn more!</p>"},{"location":"guide/categories/","title":"Categories","text":"<p>Coming soon...</p>"},{"location":"guide/commands/","title":"Commands Reference","text":"<p>Complete reference for all homelabctl commands.</p>"},{"location":"guide/commands/#setup-commands","title":"Setup Commands","text":""},{"location":"guide/commands/#init","title":"<code>init</code>","text":"<p>Initialize a new homelab repository or verify an existing one.</p> <pre><code>homelabctl init\n</code></pre> <p>What it does:</p> <ul> <li>Creates required directories (<code>stacks/</code>, <code>enabled/</code>, <code>inventory/</code>, <code>secrets/</code>, <code>runtime/</code>)</li> <li>Creates starter <code>.gitignore</code></li> <li>Creates template <code>inventory/vars.yaml</code></li> </ul> <p>When to use: First time setup or structure verification.</p>"},{"location":"guide/commands/#enable","title":"<code>enable</code>","text":"<p>Enable a stack or re-enable a disabled service.</p> Enable StackEnable Service <pre><code>homelabctl enable &lt;stack&gt;\n</code></pre> <p>Creates a symlink in <code>enabled/</code> pointing to <code>stacks/&lt;stack&gt;</code>.</p> <pre><code>homelabctl enable -s &lt;service&gt;\nhomelabctl enable --service &lt;service&gt;\n</code></pre> <p>Removes service from disabled list in <code>inventory/vars.yaml</code>.</p> <p>Examples:</p> <pre><code># Enable traefik stack\nhomelabctl enable traefik\n\n# Re-enable a previously disabled service\nhomelabctl enable -s scrutiny\n</code></pre>"},{"location":"guide/commands/#disable","title":"<code>disable</code>","text":"<p>Disable a stack or an individual service.</p> Disable StackDisable Service <pre><code>homelabctl disable &lt;stack&gt;\n</code></pre> <p>Removes the symlink from <code>enabled/</code>.</p> <p>Warning</p> <p>Does not check if other stacks depend on this one.</p> <pre><code>homelabctl disable -s &lt;service&gt;\nhomelabctl disable --service &lt;service&gt;\n</code></pre> <p>Adds service to disabled list without disabling the entire stack.</p> <p>Use cases for disabling services:</p> <ul> <li>Save resources on constrained systems</li> <li>Skip services that don't work on your hardware</li> <li>Temporarily disable a service you don't need</li> </ul>"},{"location":"guide/commands/#list","title":"<code>list</code>","text":"<p>List all enabled stacks and disabled services.</p> <pre><code>homelabctl list\n</code></pre> <p>Output example:</p> <pre><code>Enabled stacks (3):\n  \u2022 core\n  \u2022 traefik\n  \u2022 monitoring\n\nDisabled services (1):\n  \u2022 scrutiny\n</code></pre>"},{"location":"guide/commands/#validate","title":"<code>validate</code>","text":"<p>Validate your homelab configuration.</p> <pre><code>homelabctl validate\n</code></pre> <p>Checks:</p> <ul> <li>\u2705 Repository structure is valid</li> <li>\u2705 All enabled stacks have <code>stack.yaml</code></li> <li>\u2705 All enabled stacks have <code>compose.yml.tmpl</code></li> <li>\u2705 All dependencies are satisfied</li> <li>\u2705 No circular dependencies</li> <li>\u2705 Service definitions match compose templates</li> </ul>"},{"location":"guide/commands/#deployment-commands","title":"Deployment Commands","text":""},{"location":"guide/commands/#generate","title":"<code>generate</code>","text":"<p>Generate runtime Docker Compose files.</p> <pre><code>homelabctl generate [--debug]\n</code></pre> <p>Flags:</p> <ul> <li><code>--debug</code> - Preserve temporary files for inspection</li> </ul> <p>What it does:</p> <ol> <li>Load enabled stacks</li> <li>Merge variables (stack defaults &lt; inventory &lt; secrets)</li> <li>Render templates with gomplate</li> <li>Filter disabled services</li> <li>Merge all compose files into <code>runtime/docker-compose.yml</code></li> </ol> <p>Output: <code>runtime/docker-compose.yml</code></p>"},{"location":"guide/commands/#deploy","title":"<code>deploy</code>","text":"<p>Generate and deploy stacks.</p> <pre><code>homelabctl deploy\n</code></pre> <p>Equivalent to:</p> <pre><code>homelabctl generate\ndocker compose -f runtime/docker-compose.yml up -d\n</code></pre> <p>When to use: After enabling/disabling stacks or changing configuration.</p>"},{"location":"guide/commands/#operations-commands","title":"Operations Commands","text":""},{"location":"guide/commands/#ps","title":"<code>ps</code>","text":"<p>Show service status.</p> <pre><code>homelabctl ps\n</code></pre> <p>Shows all running services with their status, ports, and container IDs.</p>"},{"location":"guide/commands/#logs","title":"<code>logs</code>","text":"<p>View service logs.</p> <pre><code>homelabctl logs [service...] [flags]\n</code></pre> <p>Examples:</p> <pre><code># Follow all logs\nhomelabctl logs\n\n# Follow specific service\nhomelabctl logs traefik\n\n# Last 100 lines\nhomelabctl logs -n 100\n\n# Last hour\nhomelabctl logs --since 1h\n\n# Multiple services\nhomelabctl logs traefik authentik\n</code></pre>"},{"location":"guide/commands/#restart","title":"<code>restart</code>","text":"<p>Restart services.</p> <pre><code>homelabctl restart [service...]\n</code></pre> <p>Examples:</p> <pre><code># Restart all services\nhomelabctl restart\n\n# Restart specific service\nhomelabctl restart traefik\n</code></pre>"},{"location":"guide/commands/#stop","title":"<code>stop</code>","text":"<p>Stop services (keeps containers).</p> <pre><code>homelabctl stop [service...]\n</code></pre>"},{"location":"guide/commands/#down","title":"<code>down</code>","text":"<p>Stop and remove containers.</p> <pre><code>homelabctl down [--volumes]\n</code></pre> <p>Flags:</p> <ul> <li><code>--volumes</code> - Also remove volumes (\u26a0\ufe0f data loss!)</li> </ul>"},{"location":"guide/commands/#exec","title":"<code>exec</code>","text":"<p>Execute command in a container.</p> <pre><code>homelabctl exec &lt;service&gt; &lt;command&gt; [args...]\n</code></pre> <p>Examples:</p> <pre><code># Open shell\nhomelabctl exec traefik sh\n\n# Database access\nhomelabctl exec postgres psql -U postgres\n\n# Run CLI tool\nhomelabctl exec authentik ak --version\n</code></pre>"},{"location":"guide/commands/#passthrough-commands","title":"Passthrough Commands","text":"<p>Any unrecognized command is passed to <code>docker compose</code> with the correct file:</p> <pre><code># Pull latest images\nhomelabctl pull\n\n# Validate compose file\nhomelabctl config\n\n# Show running processes\nhomelabctl top\n\n# List images\nhomelabctl images\n\n# Check port mapping\nhomelabctl port traefik 80\n\n# Stream events\nhomelabctl events\n\n# Pause/unpause\nhomelabctl pause jellyfin\nhomelabctl unpause jellyfin\n</code></pre> <p>All docker compose commands work!</p>"},{"location":"guide/commands/#debugging","title":"Debugging","text":""},{"location":"guide/commands/#preserve-temporary-files","title":"Preserve Temporary Files","text":"<pre><code>homelabctl generate --debug\n</code></pre> <p>Keeps files in <code>runtime/</code>:</p> <pre><code>runtime/\n\u251c\u2500\u2500 traefik-compose.yml      # Per-stack compose files\n\u251c\u2500\u2500 authentik-compose.yml\n\u2514\u2500\u2500 docker-compose.yml        # Final merged file\n</code></pre>"},{"location":"guide/commands/#inspect-generated-compose","title":"Inspect Generated Compose","text":"<pre><code>homelabctl config\n</code></pre> <p>Shows the final merged configuration that will be deployed.</p>"},{"location":"guide/secrets/","title":"Secrets Management","text":"<p>Coming soon...</p>"},{"location":"guide/service-control/","title":"Service Control","text":"<p>Coming soon...</p>"},{"location":"guide/stack-structure/","title":"Stack Structure","text":"<p>Learn how stacks are organized and how to structure your homelab repository.</p>"},{"location":"guide/stack-structure/#repository-layout","title":"Repository Layout","text":"<pre><code>homelab/\n\u251c\u2500\u2500 stacks/              # Stack definitions (PUBLIC)\n\u2502   \u251c\u2500\u2500 traefik/\n\u2502   \u251c\u2500\u2500 authentik/\n\u2502   \u2514\u2500\u2500 jellyfin/\n\u251c\u2500\u2500 enabled/             # Symlinks to enabled stacks\n\u2502   \u251c\u2500\u2500 traefik -&gt; ../stacks/traefik\n\u2502   \u2514\u2500\u2500 authentik -&gt; ../stacks/authentik\n\u251c\u2500\u2500 inventory/           # Your configuration (PRIVATE)\n\u2502   \u2514\u2500\u2500 vars.yaml\n\u251c\u2500\u2500 secrets/             # Encrypted secrets (PRIVATE)\n\u2502   \u2514\u2500\u2500 traefik.enc.yaml\n\u2514\u2500\u2500 runtime/             # Generated files (NEVER COMMIT)\n    \u2514\u2500\u2500 docker-compose.yml\n</code></pre>"},{"location":"guide/stack-structure/#stack-directory-structure","title":"Stack Directory Structure","text":"<pre><code>stacks/mystack/\n\u251c\u2500\u2500 stack.yaml           # Manifest + default variables\n\u251c\u2500\u2500 compose.yml.tmpl     # Docker Compose template\n\u251c\u2500\u2500 config/              # Configuration file templates (optional)\n\u2502   \u2514\u2500\u2500 app.conf.tmpl\n\u2514\u2500\u2500 contribute/          # Cross-stack contributions (optional)\n    \u2514\u2500\u2500 traefik/\n        \u2514\u2500\u2500 routes.yml.tmpl\n</code></pre>"},{"location":"guide/stack-structure/#stackyaml-schema","title":"stack.yaml Schema","text":"<pre><code>name: mystack              # Stack identifier (must match directory name)\ncategory: tools            # Category for deployment ordering\nrequires:                  # Dependencies\n  - core\n  - traefik\nservices:                  # List of all services (REQUIRED)\n  - myapp\n  - worker\nvars:                      # Default variables\n  myapp:\n    image: myapp:latest\n    port: 8080\n  worker:\n    image: worker:latest\npersistence:               # Data persistence\n  volumes:\n    - myapp_data\n  paths:\n    - ./runtime/mystack\n</code></pre>"},{"location":"guide/stack-structure/#composeymltmpl","title":"compose.yml.tmpl","text":"<p>Standard Docker Compose file with template variables:</p> <pre><code>services:\n  myapp:\n    image: {{ .vars.myapp.image }}\n    container_name: myapp\n    ports:\n      - \"{{ .vars.myapp.port }}:8080\"\n    volumes:\n      - myapp_data:/data\n    restart: unless-stopped\n    {{ if has \"traefik\" .stacks.enabled }}\n    labels:\n      - \"traefik.enable=true\"\n      - \"traefik.http.routers.myapp.rule=Host(`myapp.{{ .vars.domain }}`)\"\n    {{ end }}\n\nvolumes:\n  myapp_data:\n</code></pre> <p>See Variables &amp; Templating for template syntax.</p>"},{"location":"guide/stack-structure/#best-practices","title":"Best Practices","text":""},{"location":"guide/stack-structure/#naming","title":"Naming","text":"<ul> <li>Stack names: lowercase, hyphen-separated (<code>my-stack</code>)</li> <li>Service names: match container names for clarity</li> <li>Volume names: prefix with stack name (<code>mystack_data</code>)</li> </ul>"},{"location":"guide/stack-structure/#organization","title":"Organization","text":"<ul> <li>Group related services in one stack</li> <li>Use categories to control deployment order</li> <li>Keep stacks self-contained when possible</li> </ul>"},{"location":"guide/stack-structure/#variables","title":"Variables","text":"<ul> <li>Provide sensible defaults in <code>stack.yaml</code></li> <li>Document all variables with comments</li> <li>Use nested structure for multi-service stacks</li> </ul>"},{"location":"guide/stack-structure/#files","title":"Files","text":"<ul> <li>Commit: <code>stacks/</code>, <code>enabled/</code></li> <li>Private: <code>inventory/</code>, <code>secrets/</code></li> <li>Generated: <code>runtime/</code> (gitignored)</li> </ul>"},{"location":"guide/stack-structure/#see-also","title":"See Also","text":"<ul> <li>Variables &amp; Templating</li> <li>Categories</li> <li>Secrets Management</li> </ul>"},{"location":"guide/variables/","title":"Variables &amp; Templating","text":"<p>Coming soon...</p>"},{"location":"reference/changelog/","title":"Changelog","text":"<p>Coming soon...</p>"},{"location":"reference/cli/","title":"CLI Reference","text":"<p>Coming soon...</p>"},{"location":"reference/configuration/","title":"Configuration","text":"<p>Coming soon...</p>"},{"location":"reference/template-context/","title":"Template Context","text":"<p>Coming soon...</p>"}]}